\documentclass{article}


\usepackage{arxiv}

\usepackage[utf8]{inputenc} % allow utf-8 input
\usepackage[T1]{fontenc}    % use 8-bit T1 fonts
\usepackage{hyperref}       % hyperlinks
\usepackage{url}            % simple URL typesetting
\usepackage{booktabs}       % professional-quality tables
\usepackage{amsfonts}       % blackboard math symbols
\usepackage{nicefrac}       % compact symbols for 1/2, etc.
\usepackage{microtype}      % microtypography
\usepackage{lipsum}
\usepackage{etoolbox}
\usepackage{amsmath}

\title{Automated Market Making}


\author{
  Chris Slaughter and Brandon Eng \\
  Level\\
  Los Angeles, CA 90004 \\
  \texttt{\{chris, brandon\}@lvl.co}
}

\begin{document}
\maketitle

\begin{abstract}

The role of a market maker is to provide liquidity on an exchange by quoting bid and ask prices for a small discount or premium to the market price. Automated market making is an active strategy that continuously makes the market in one or more assets. Automated market making has been extensively studied, and an optimal market making algorithm has been proposed by Avellaneda \& Stoikov (2008). In this paper, we review the state of the art in optimal market making, and then propose a simplified market making model that relies on only two parameters: spread and discount. We also demonstrate the performance of the model in simulations.

\end{abstract}

\keywords{Exchange \and Liquidity \and Automated Market Making}

\section{Introduction}
\label{sec:intro}

Market makers create liquidity on a market by quoting bid and ask prices for a trading asset near the market price. Market makers profit by quoting asks at a premium, and bids at a discount, to the market price. This premium or discount is referred to as the market maker \emph{spread}. Market makers realize the spread each time an order is matched at their quoted price. The \emph{arrival rate} of orders is lower for market makers that charge high spreads, and both spread and arrival rate must be balanced for a market maker to maximize profit. The market maker must also manage the \emph{inventory} of cash and asset available to fulfill market demand, as well as the opportunity cost of taking a net long position in inventory. In all, the market maker must consider:

\begin{itemize}
	\item The spread charged
	\item The arrival rate of orders
	\item Available inventory of cash and asset
	\item Opportunity cost of holding inventory
\end{itemize}

While profitable market making is a complex and multidimensional problem, it has also been extensively studied in the literature, particularly in two seminal papers. Ho \& Stoll studied the problem of dealing under competition and found that the bid and ask quotes are related to the reservation (or indifference) price of the dealer \cite{ho1980on}. Then Avellaneda \& Stoikov proposed a model combining the utility formulation of Ho \& Stoll with statistical modeling of the microstructure of a limit order market, and solved optimal market pricing under this model \cite{avellaneda2008high}. The solution of Avellaneda \& Stoikov is notable because it demonstrates a stochastic optimal control policy under a reasonable stochastic model for order arrivals \cite{bouchard2002statistical}. Subsequent work by Guéant, Lehalle, \& Tapia extended this solution to consider management of a finite inventory of cash and asset \cite{guéant2012dealing}. In Section \ref{sec:optimal}, we review the state of the art algorithms for market making to provide context for our algorithm.

In the first paragraph of their seminal 2008 paper, Avellaneda \& Stoikov noted of market making:

\begin{quote}
Traditionally, this role has been filled by market maker or specialist firms. In recent years, with the growth of electronic exchanges such as Nasdaq’s Inet, anyone willing to submit limit orders in the system can effectively play the role of a dealer. Indeed, the availability of high frequency data on the limit order book (see www.inetats.com) ensures a fair playing field where various agents can post limit orders at the prices they choose.
\end{quote}

While in principle, anyone may play the role of market maker in a market, various limitations prevent this in practice. US securities law limits who may make the market based on accreditation rules, brokerage licensing requirements, and other considerations. In commodities markets including cryptocurrency spot markets, the high technical complexity of market making 24/7 as well as fee discounts offered to incumbents create competitive barriers to entry for retail participants. While the barriers to entry for automated market making remain high, automation technology has made other active strategies such as market-weighted rebalancing and tax-loss harvesting widely avaiable to retail customers in products such as Wealthfront and Betterment. In using automation to provide retail access to active strategies, particular attention must be paid to both \emph{algorithm design} and \emph{interface design}, so that the end user does not adversely select a non-competitive policy configuration. Our objective is to devise an automated strategy for continuous market making that considers the traditional utility objectives of market making, as well as the usability objectives of making market making broadly available to retail users for the first time. In total, the considerations include:

\begin{itemize}
  \item The spread charged
  \item The arrival rate of orders
  \item Available inventory of cash and asset
  \item Opportunity cost of holding inventory
  \item Practical deployment across user accounts
  \item Intuitive policy configuration
\end{itemize}

In Section \ref{sec:optimal} we review the state of the art algorithms for optimal market making. In Section \ref{sec:retail} we propose an algorithm that mimics the structure of optimal market making, while simplifying parameterization of the algorithm to promote optimal policy configuration. In Section \ref{sec:experiments} we demonstrate the performance of this algorithm in simulation.

\section{Optimal Market Making}
\label{sec:optimal}

In this section, we re-summarize the model of Avellaneda \& Stoikov based on the notation and summary of Guéant, Lehalle, \& Tapia. We refer to this model herein as the \emph{standard model}.

In the standard model, the market price, which may be the market mid-price or a reference quote, moves as arithmetic Brownian motion:

\begin{equation}
\label{eq:brownian}
dS_{t} = \sigma dW_{t}
\end{equation}

Guéant, Lehalle, \& Tapia note in a footnote that Equation \ref{eq:brownian} is almost equivalent to the standard Black-Scholes model on a short time horizon, i.e. in a narrow time window the price is exclusively affected by random, drift-free arrival of the arrival of order matches on the limit order market. The market making agent continuously quotes bid and ask prices, $S^b_t$ and $S^a_t$ respectively, and will therefore buy and sell shares of the asset based on the random arrival of orders matched at the quoted prices. In the standard model, the agent holds accumulative inventory $q_t$ given by:

\begin{equation}
\label{eq:inventory}
q_{t} = N^b_{t} - N^a_{t}
\end{equation}

where $N^b_{t}$ and $N^a_{t}$ are the point processes representing the number of asset bought bought or sold respectively as order matches arrive at the quoted prices. The standard model assumes that the intensity of arrival of order matches decreases monotonically in the spread offered on the quoted price. Assuming a bid spread of $\delta^b_t = S_t - S^b_t$ and an ask spread of $\delta^a_t = S^a_t - S_t$, the intensity of arrivals for bids and asks, $\lambda^b$ and $\lambda^a$ respectively, are given by:


\begin{equation}
\label{eq:arrival}
\lambda^b = A \exp^{-k \delta^b_t}, \quad
\lambda^a = A \exp^{-k \delta^a_t}
\end{equation}

where 

\section{Retail Market Making}
\label{sec:retail}

\section{Experiments}
\label{sec:experiments}

\section{Conclusion}
\label{sec:conclusion}

\lipsum[4] See Section \ref{sec:headings}.

\subsection{Headings: second level}
\lipsum[5]
\begin{equation}
\xi _{ij}(t)=P(x_{t}=i,x_{t+1}=j|y,v,w;\theta)= {\frac {\alpha _{i}(t)a^{w_t}_{ij}\beta _{j}(t+1)b^{v_{t+1}}_{j}(y_{t+1})}{\sum _{i=1}^{N} \sum _{j=1}^{N} \alpha _{i}(t)a^{w_t}_{ij}\beta _{j}(t+1)b^{v_{t+1}}_{j}(y_{t+1})}}
\end{equation}

\subsubsection{Headings: third level}
\lipsum[6]

\paragraph{Paragraph}
\lipsum[7]

\section{Examples of citations, figures, tables, references}
\label{sec:others}
\lipsum[8] \cite{kour2014real,kour2014fast} and see \cite{hadash2018estimate}.

The documentation for \verb+natbib+ may be found at
\begin{center}
  \url{http://mirrors.ctan.org/macros/latex/contrib/natbib/natnotes.pdf}
\end{center}
Of note is the command \verb+\citet+, which produces citations
appropriate for use in inline text.  For example,
\begin{verbatim}
   \citet{hasselmo} investigated\dots
\end{verbatim}
produces
\begin{quote}
  Hasselmo, et al.\ (1995) investigated\dots
\end{quote}

\begin{center}
  \url{https://www.ctan.org/pkg/booktabs}
\end{center}


\subsection{Figures}
\lipsum[10] 
See Figure \ref{fig:fig1}. Here is how you add footnotes. \footnote{Sample of the first footnote.}
\lipsum[11] 

\begin{figure}
  \centering
  \fbox{\rule[-.5cm]{4cm}{4cm} \rule[-.5cm]{4cm}{0cm}}
  \caption{Sample figure caption.}
  \label{fig:fig1}
\end{figure}

\subsection{Tables}
\lipsum[12]
See awesome Table~\ref{tab:table}.

\begin{table}
 \caption{Sample table title}
  \centering
  \begin{tabular}{lll}
    \toprule
    \multicolumn{2}{c}{Part}                   \\
    \cmidrule(r){1-2}
    Name     & Description     & Size ($\mu$m) \\
    \midrule
    Dendrite & Input terminal  & $\sim$100     \\
    Axon     & Output terminal & $\sim$10      \\
    Soma     & Cell body       & up to $10^6$  \\
    \bottomrule
  \end{tabular}
  \label{tab:table}
\end{table}

\subsection{Lists}
\begin{itemize}
\item Lorem ipsum dolor sit amet
\item consectetur adipiscing elit. 
\item Aliquam dignissim blandit est, in dictum tortor gravida eget. In ac rutrum magna.
\end{itemize}


\bibliographystyle{unsrt}  
%\bibliography{references}  %%% Remove comment to use the external .bib file (using bibtex).
%%% and comment out the ``thebibliography'' section.


%%% Comment out this section when you \bibliography{references} is enabled.
\begin{thebibliography}{1}

\bibitem{ho1980on}
Thomas Ho and Hans R. Stoll.
\newblock On Dealer Markets Under Competition.
\newblock In {\em The Journal of Finance, Vol. 35, No. 2, Papers and Proceedings Thirty-Eighth Annual Meeting American Finance Association}, pages 259--267. Wiley, 1980.

\bibitem{avellaneda2008high}
Marco Avellaneda and Sasha Stoikov.
\newblock High-frequency trading in a limit order book.
\newblock In {\em Quantitative Finance, Vol. 8, No. 3}, pages 217--224. Routledge, 2008.

\bibitem{guéant2012dealing}
Olivier Guéant, Charles-Albert Lehalle, and Joaquin Fernandez Tapia.
\newblock Dealing with the Inventory Risk. A solution to the market making problem.
\newblock In {\em 	arXiv:1105.3115v5}, 2012.

\bibitem{bouchard2002statistical}
J.-P. Bouchaud, M. Mezard, and M. Potters.
\newblock Statistical properties of stock order books: empirical results and models.
\newblock In {\em     arXiv:cond-mat/0203511v2}, 2002.

\bibitem{fushimi2018optimal}
Takahiro Fushimi, Christian González Rojas, and Molly Herman.
\newblock Optimal High-Frequency Market Making.
\newblock 2018.

\bibitem{wealthfront}
@online{Wealthfront: Financial Planning and Robo-Investing for Millennials,
url = {\url{https://www.wealthfront.com/}}
}

\bibitem{betterment}
@online{Betterment,
url = {\url{https://www.betterment.com/}}
}

\end{thebibliography}


\end{document}
